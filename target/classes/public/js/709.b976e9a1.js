"use strict";(self["webpackChunkmockups"]=self["webpackChunkmockups"]||[]).push([[709],{4709:(n,a,e)=>{e.r(a),e.d(a,{default:()=>W});var o=e(3673),t=e(1959),l=e(9582),c=e(2332),i=e(8825),u=e(8344),s=e(2946),r=e(3311),d=e(9900),p=e(7938),v=e(2435),f=function(n,a,e,o){function t(n){return n instanceof e?n:new e((function(a){a(n)}))}return new(e||(e=Promise))((function(e,l){function c(n){try{u(o.next(n))}catch(a){l(a)}}function i(n){try{u(o["throw"](n))}catch(a){l(a)}}function u(n){n.done?e(n.value):t(n.value).then(c,i)}u((o=o.apply(n,a||[])).next())}))};const y=()=>f(void 0,void 0,void 0,(function*(){(0,c.H)().cargaIniciada();const n=(0,s.r)(),a=(0,r.g)(),e=(0,d.A)();yield n.sync(),yield a.sync(),yield e.sync(),(0,c.H)().cargaFinalizada()})),m=()=>f(void 0,void 0,void 0,(function*(){(0,c.H)().cargaIniciada();const n=(0,p.R)(),a=(0,v.H)();yield n.sync(),yield a.sync(),(0,c.H)().cargaFinalizada()}));var h=function(n,a,e,o){function t(n){return n instanceof e?n:new e((function(a){a(n)}))}return new(e||(e=Promise))((function(e,l){function c(n){try{u(o.next(n))}catch(a){l(a)}}function i(n){try{u(o["throw"](n))}catch(a){l(a)}}function u(n){n.done?e(n.value):t(n.value).then(c,i)}u((o=o.apply(n,a||[])).next())}))};const b=n=>((0,o.dD)("data-v-7734330a"),n=n(),(0,o.Cn)(),n),g=b((()=>(0,o._)("p",{style:{color:"#1D1D1D"},class:"col-auto login-input"},"¡Inicia sesión para tener acceso a tu contabilidad!",-1))),w={class:"col-auto column q-gutter-y-md login-input"},k=b((()=>(0,o._)("br",null,null,-1))),_=b((()=>(0,o._)("p",{style:{color:"#1D1D1D"},class:"col-auto login-input"},"Recuerda escribir las credenciales propocionadas por el consultorio contable javeriano.",-1))),C=b((()=>(0,o._)("a",{class:"col-auto",href:"#/soporte"},[(0,o._)("b",null,"Soporte")],-1))),D=(0,o.aZ)({setup(n){const a=(0,l.tv)(),e=(0,c.H)(),s=(0,i.Z)(),r={jairo:"admin",luisa:"manager",sebas:"cashier"},d=(0,t.iH)(""),p=(0,t.iH)("");function v(){return h(this,void 0,void 0,(function*(){r[d.value];try{const n=yield u.Q.post("/auth/login",{email:d.value,password:p.value});yield e.login(n.data.nombre,n.data.rol,n.data.token),yield a.push(`/usr=${e.name.replace(/\s/g,"")}/${e.getPermissions[0].key}`),setTimeout((()=>h(this,void 0,void 0,(function*(){switch(n.data.rol){case"ADMIN":yield m();break;default:yield y();break}}))),1e3)}catch(n){console.log(n),s.notify("Credenciales invalidas")}}))}return(n,a)=>{const e=(0,o.up)("q-input"),t=(0,o.up)("q-btn"),l=(0,o.up)("q-card-section"),c=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(l,{class:"column justify-evenly items-center"},{default:(0,o.w5)((()=>[g,(0,o._)("div",w,[(0,o.Wm)(e,{label:"Usuario",modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=n=>d.value=n),class:"col-auto"},null,8,["modelValue"]),(0,o.Wm)(e,{label:"Contraseña",modelValue:p.value,"onUpdate:modelValue":a[1]||(a[1]=n=>p.value=n),class:"col-auto",type:"password"},null,8,["modelValue"]),(0,o.Wm)(t,{label:"Iniciar Sesión",class:"col-auto advance-btn",onClick:v})]),k,_,C])),_:1})])),_:1})}}});var H=e(4260),I=e(151),Z=e(5589),V=e(4842),q=e(8240),Q=e(7518),j=e.n(Q);const x=(0,H.Z)(D,[["__scopeId","data-v-7734330a"]]),W=x;j()(D,"components",{QCard:I.Z,QCardSection:Z.Z,QInput:V.Z,QBtn:q.Z})}}]);